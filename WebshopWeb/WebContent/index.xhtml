<?xml version="1.0" encoding="UTF-8" ?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:c="http://java.sun.com/jsp/jstl/core"
    xmlns:p="http://primefaces.org/ui"
    template="resources/templates/template.xhtml">

    <ui:define name="header">
        <h1>MP3-Webshop</h1>
    </ui:define>

    <ui:define name="content">
        <div id="login">
        <h2>Login</h2>
        <form>
                <input type="submit" value="Login"/>
            </form>
        </div>
        <div id="products">
            <h2>Verf√ºgbare Produkte</h2>
            <h:form id="productlist">
                <ui:repeat value="#{itemMBean.items}" var="item">
                    <p><h:outputText value="#{item.name}"/><br></br>
                       <h:outputText value="#{item.description}"/><br></br>
                       <h:outputText value="#{item.mediapath}"/><br></br>
                       <h:outputText value="#{item.unitprice}"/><br></br>
                       <h:commandButton
                            type="submit"
                            value="Add to Basket"
                            styleClass="btn btn-sm btn-default"
                            action="#{basketBean.addItem(item)}">
                           <f:ajax render="right:shoppingList" />
                        </h:commandButton>
                    </p>
                </ui:repeat>
            </h:form>
        </div>
        <div id ="basket">
            <h2>Warenkorb</h2>
            <h:form id="basketproducts">
                <ui:repeat value="#{basketBean.allItems}" var="item">
                    <p><h:outputText value="#{item.name}"/><br></br>
                       <h:outputText value="#{item.description}"/><br></br>
                       <h:outputText value="#{item.mediapath}"/><br></br>
                       <h:outputText value="#{item.unitprice}"/><br></br>
                       <h:commandButton
                            type="submit"
                            value="Remove"
                            styleClass="btn btn-sm btn-default"
                            action="#{basketBean.removeItem(item)}">
                           <f:ajax render="right:shoppingList" />
                        </h:commandButton>
                    </p>
                </ui:repeat>
            </h:form>
        </div>   
    </ui:define>
</ui:composition>